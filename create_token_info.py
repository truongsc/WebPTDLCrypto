TOKEN_INFO = [
    {'symbol': 'BTC', 'name': 'Bitcoin', 'icon_url': 'https://assets.coingecko.com/coins/images/1/large/bitcoin.png'},
    {'symbol': 'ETH', 'name': 'Ethereum', 'icon_url': 'https://assets.coingecko.com/coins/images/279/large/ethereum.png'},
    {'symbol': 'BNB', 'name': 'BNB', 'icon_url': 'https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png'},
    {'symbol': 'SOL', 'name': 'Solana', 'icon_url': 'https://assets.coingecko.com/coins/images/4128/large/solana.png'},
    {'symbol': 'XRP', 'name': 'XRP', 'icon_url': 'https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png'},
    {'symbol': 'DOGE', 'name': 'Dogecoin', 'icon_url': 'https://assets.coingecko.com/coins/images/5/large/dogecoin.png'},
    {'symbol': 'TRX', 'name': 'TRON', 'icon_url': 'https://assets.coingecko.com/coins/images/1094/large/tron-logo.png'},
    {'symbol': 'ADA', 'name': 'Cardano', 'icon_url': 'https://assets.coingecko.com/coins/images/975/large/cardano.png'},
    {'symbol': 'AVAX', 'name': 'Avalanche', 'icon_url': 'https://assets.coingecko.com/coins/images/12559/large/Avalanche_Circle_RedWhite_Trans.png'},
    {'symbol': 'LINK', 'name': 'Chainlink', 'icon_url': 'https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png'},
    {'symbol': 'SUI', 'name': 'Sui', 'icon_url': 'https://assets.coingecko.com/coins/images/26375/large/sui.png'},
    {'symbol': 'BCH', 'name': 'Bitcoin Cash', 'icon_url': 'https://assets.coingecko.com/coins/images/780/large/bitcoin-cash-circle.png'},
    {'symbol': 'LTC', 'name': 'Litecoin', 'icon_url': 'https://assets.coingecko.com/coins/images/2/large/litecoin.png'},
    {'symbol': 'SHIB', 'name': 'Shiba Inu', 'icon_url': 'https://assets.coingecko.com/coins/images/11939/large/shiba.png'},
    {'symbol': 'TON', 'name': 'Toncoin', 'icon_url': 'https://assets.coingecko.com/coins/images/17980/large/ton_symbol.png'},
    {'symbol': 'DOT', 'name': 'Polkadot', 'icon_url': 'https://assets.coingecko.com/coins/images/12171/large/polkadot.png'},
    {'symbol': 'XMR', 'name': 'Monero', 'icon_url': 'https://assets.coingecko.com/coins/images/69/large/monero_logo.png'},
    {'symbol': 'UNI', 'name': 'Uniswap', 'icon_url': 'https://assets.coingecko.com/coins/images/12504/large/uni.png'},
    {'symbol': 'NEAR', 'name': 'NEAR Protocol', 'icon_url': 'https://assets.coingecko.com/coins/images/10365/large/near.png'},
    {'symbol': 'PEPE', 'name': 'Pepe', 'icon_url': 'https://assets.coingecko.com/coins/images/29850/large/pepe1.png'},
    {'symbol': 'APT', 'name': 'Aptos', 'icon_url': 'https://assets.coingecko.com/coins/images/26455/large/aptos_round.png'},
    {'symbol': 'ICP', 'name': 'Internet Computer', 'icon_url': 'https://assets.coingecko.com/coins/images/14495/large/Internet_Computer_logo.png'},
    {'symbol': 'ARB', 'name': 'Arbitrum', 'icon_url': 'https://assets.coingecko.com/coins/images/16547/large/photo_2023-03-29_21.47.00.jpeg'},
    {'symbol': 'OP', 'name': 'Optimism', 'icon_url': 'https://assets.coingecko.com/coins/images/25244/large/Optimism.png'},
    {'symbol': 'INJ', 'name': 'Injective', 'icon_url': 'https://assets.coingecko.com/coins/images/12882/large/Secondary_Symbol.png'},
    {'symbol': 'HBAR', 'name': 'Hedera', 'icon_url': 'https://assets.coingecko.com/coins/images/3688/large/hbar.png'},
    {'symbol': 'STX', 'name': 'Stacks', 'icon_url': 'https://assets.coingecko.com/coins/images/2069/large/Stacks_Logo_png.png'},
    {'symbol': 'VET', 'name': 'VeChain', 'icon_url': 'https://assets.coingecko.com/coins/images/1167/large/VET_Token_Icon.png'},
    {'symbol': 'FIL', 'name': 'Filecoin', 'icon_url': 'https://assets.coingecko.com/coins/images/12817/large/filecoin.png'},
    {'symbol': 'MKR', 'name': 'Maker', 'icon_url': 'https://assets.coingecko.com/coins/images/1364/large/Mark_Maker.png'},
    {'symbol': 'ATOM', 'name': 'Cosmos', 'icon_url': 'https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png'},
    {'symbol': 'GRT', 'name': 'The Graph', 'icon_url': 'https://assets.coingecko.com/coins/images/13397/large/Graph_Token.png'},
    {'symbol': 'AXS', 'name': 'Axie Infinity', 'icon_url': 'https://assets.coingecko.com/coins/images/13029/large/axie_infinity_logo.png'},
    {'symbol': 'LDO', 'name': 'Lido DAO', 'icon_url': 'https://assets.coingecko.com/coins/images/13573/large/Lido_DAO.png'},
    {'symbol': 'QNT', 'name': 'Quant', 'icon_url': 'https://assets.coingecko.com/coins/images/3370/large/5ZOu7brX_400x400.jpg'},
    {'symbol': 'EOS', 'name': 'EOS', 'icon_url': 'https://assets.coingecko.com/coins/images/738/large/eos-eos-logo.png'},
    {'symbol': 'XTZ', 'name': 'Tezos', 'icon_url': 'https://assets.coingecko.com/coins/images/976/large/Tezos-logo.png'},
    {'symbol': 'KSM', 'name': 'Kusama', 'icon_url': 'https://assets.coingecko.com/coins/images/9568/large/m4zRhP5e_400x400.jpg'},
    {'symbol': 'THETA', 'name': 'Theta Network', 'icon_url': 'https://assets.coingecko.com/coins/images/2538/large/theta-token-logo.png'},
    {'symbol': 'DASH', 'name': 'Dash', 'icon_url': 'https://assets.coingecko.com/coins/images/19/large/dash-logo.png'},
    {'symbol': 'ZEC', 'name': 'Zcash', 'icon_url': 'https://assets.coingecko.com/coins/images/486/large/circle-zcash-color.png'},
    {'symbol': 'XEM', 'name': 'NEM', 'icon_url': 'https://assets.coingecko.com/coins/images/242/large/NEM_WC_Logo_200px.png'},
    {'symbol': 'IOTA', 'name': 'IOTA', 'icon_url': 'https://assets.coingecko.com/coins/images/692/large/IOTA_Swirl.png'},
    {'symbol': 'WAVES', 'name': 'Waves', 'icon_url': 'https://assets.coingecko.com/coins/images/425/large/waves.png'},
    {'symbol': 'ALGO', 'name': 'Algorand', 'icon_url': 'https://assets.coingecko.com/coins/images/4380/large/download.png'},
    {'symbol': 'XLM', 'name': 'Stellar', 'icon_url': 'https://assets.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png'},
    {'symbol': 'NEO', 'name': 'NEO', 'icon_url': 'https://assets.coingecko.com/coins/images/480/large/NEO_512_512.png'},
    {'symbol': 'ETC', 'name': 'Ethereum Classic', 'icon_url': 'https://assets.coingecko.com/coins/images/155/large/ethereum-classic-logo.png'}
]

# File Python: create_token_info.py
import mysql.connector
from mysql.connector import Error

# Cấu hình kết nối MySQL
MYSQL_CONFIG = {
    'host': 'localhost',
    'user': 'root',
    'password': '23082004',  # Thay bằng password MySQL của bạn
    'database': 'crypto_data'     # Tên database, phải đã có
}

def create_token_info_table(connection):
    """Tạo bảng token_info nếu chưa có."""
    cursor = connection.cursor()
    create_table_query = """
    CREATE TABLE IF NOT EXISTS token_info (
        id BIGINT AUTO_INCREMENT PRIMARY KEY,
        symbol VARCHAR(20) NOT NULL,
        name VARCHAR(100) NOT NULL,
        icon_url VARCHAR(255),
        UNIQUE (symbol)
    )
    """
    try:
        cursor.execute(create_table_query)
        connection.commit()
        print("Bảng token_info đã được tạo/cập nhật.")
    except Error as e:
        print(f"Lỗi tạo bảng token_info: {e}")
    finally:
        cursor.close()

def insert_token_info(connection):
    """Chèn thông tin token vào bảng token_info."""
    cursor = connection.cursor()
    insert_query = """
    INSERT IGNORE INTO token_info (symbol, name, icon_url)
    VALUES (%s, %s, %s)
    """
    data_to_insert = [(token['symbol'], token['name'], token['icon_url']) for token in TOKEN_INFO]
    try:
        cursor.executemany(insert_query, data_to_insert)
        connection.commit()
        print(f"Đã chèn {len(data_to_insert)} records vào bảng token_info.")
    except Error as e:
        print(f"Lỗi chèn dữ liệu vào token_info: {e}")
    finally:
        cursor.close()

def main():
    try:
        connection = mysql.connector.connect(**MYSQL_CONFIG)
        print("Kết nối MySQL thành công!")
    except Error as e:
        print(f"Lỗi kết nối MySQL: {e}")
        return

    create_token_info_table(connection)
    insert_token_info(connection)
    connection.close()
    print("Hoàn thành!")

if __name__ == "__main__":
    main()